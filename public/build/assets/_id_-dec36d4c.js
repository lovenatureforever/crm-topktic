import{_ as fe}from"./AppDateTimePicker-13e52204.js";import{_ as ce}from"./AppSelect-9fef97a3.js";import{m as rt,n as pe,i as Me,t as dt,a as Re,f as Le}from"./auth-2206da5d.js";import{a as M}from"./axios-d515009b.js";import{N as X,G as $,a1 as F,am as Oe,an as _e,S as ee,n as a,F as J,$ as te,ao as ct,a0 as me,ap as ye,aq as mt,ar as be,as as vt,at as He,au as re,I as qe,ae as pt,z as Q,av as gt,aw as ge,J as ft,ax as _t,ay as Ve,az as yt,aA as he,aB as bt,aC as xe,aD as ke,j as h,a2 as W,o as P,c as D,l as C,w as v,C as L,L as R,p as n,aE as Vt,aF as ht,aG as xt,aH as kt,aI as wt,Q as ze,aJ as St,aK as Ct,aL as Pt,aM as At,aN as Tt,aO as $t,a4 as It,aP as Lt,aQ as De,H as we,x as B,A as E,b as Y,a as K,al as oe,s as je,a9 as Ye,E as N,ag as ae,D as G,ad as We,aR as Dt,aS as Ft,aT as Bt,aU as Ut,aV as Et,aW as Nt,aX as Mt,aY as Rt,a7 as Ot,aZ as Ht,a_ as qt,T as zt,a$ as jt,r as Fe,aa as ve}from"./main-18269d99.js";import{a as Ge,b as Yt}from"./forwardRefs-5ef7a163.js";import{V as T,a as Wt}from"./VTextField-c6d530fc.js";import{a as j,V as ie}from"./VRow-7f364c74.js";import{c as Gt}from"./VAvatar-4ac5e93e.js";import{V as Xe}from"./VSelect-5d965ac4.js";import{V as Ze}from"./VMenu-d62b6648.js";import{V as Je,a as Qe,u as Xt}from"./VList-58480729.js";import{V as Se,_ as Ke}from"./VSnackbar-96777585.js";import{V as Zt}from"./VDivider-cd9e77b4.js";import{V as Be}from"./VBadge-855d03fe.js";import{d as et,a as Jt,b as Qt,V as Kt}from"./VCard-fec906ab.js";import{m as ea,b as ta,c as aa,d as la,e as na,f as sa,g as oa,h as ia,i as ua,j as ra,k as da,p as ca,l as ma,u as va,n as pa,o as ga,q as fa,r as _a,s as ya,t as ba,v as Va,w as ha,x as xa,y as ka,a as wa,V as tt}from"./VPagination-f4aaebb1.js";import"./transition-992fa73c.js";import"./VImg-82425c4f.js";import"./VCheckboxBtn-f5ca0cd2.js";const Sa=X()({name:"VDataTableServer",props:{color:String,loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},itemsLength:{type:[Number,String],required:!0},...ea(),...ta(),...aa(),...la(),...na(),...sa(),...oa(),...ia()},emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0,"click:row":(e,c)=>!0},setup(e,c){let{emit:r,slots:s}=c;const{groupBy:i}=ua(e),{sortBy:t,multiSort:m,mustSort:p}=ra(e),{page:y,itemsPerPage:f}=da(e),d=$(()=>parseInt(e.itemsLength,10));ca(e);const{columns:g}=ma(e,{groupBy:i,showSelect:F(e,"showSelect"),showExpand:F(e,"showExpand")}),{items:u}=va(e,g),{toggleSort:l}=pa({sortBy:t,multiSort:m,mustSort:p,page:y}),{opened:b}=ga({groupBy:i,sortBy:t});fa({page:y,itemsPerPage:f,itemsLength:d});const{flatItems:w}=_a(u,i,b);ya(e,u),ba({page:y,itemsPerPage:f,sortBy:t,groupBy:i,search:F(e,"search")}),Oe("v-data-table",{toggleSort:l,sortBy:t}),_e({VDataTableRows:{hideNoData:F(e,"hideNoData"),noDataText:F(e,"noDataText"),loading:F(e,"loading"),loadingText:F(e,"loadingText")}}),ee(()=>a(ka,{class:["v-data-table",{"v-data-table--loading":e.loading}],fixedHeader:e.fixedHeader,fixedFooter:e.fixedFooter,height:e.height,hover:e.hover},{top:s.top,default:s.default??(()=>{var o,_,S,V;return a(J,null,[(o=s.colgroup)==null?void 0:o.call(s,{columns:g}),a("thead",{class:"v-data-table__thead",role:"rowgroup"},[a(Va,{sticky:e.fixedHeader,loading:e.loading,color:e.color},s)]),(_=s.thead)==null?void 0:_.call(s),a("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[s.body?s.body():a(ha,{items:w.value,"onClick:row":e["onClick:row"]},s)]),(S=s.tbody)==null?void 0:S.call(s),(V=s.tfoot)==null?void 0:V.call(s)])}),bottom:s.bottom??(()=>a(xa,null,{prepend:s["footer.prepend"]}))}))}});const se=Symbol.for("vuetify:v-expansion-panel"),Ca=["default","accordion","inset","popout"],Pa=X()({name:"VExpansionPanels",props:{color:String,variant:{type:String,default:"default",validator:e=>Ca.includes(e)},readonly:Boolean,...te(),...ct(),...me(),...ye()},emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:r}=c;mt(e,se);const{themeClasses:s}=be(e),i=$(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return _e({VExpansionPanel:{color:F(e,"color")},VExpansionPanelTitle:{readonly:F(e,"readonly")}}),ee(()=>a(e.tag,{class:["v-expansion-panels",s.value,i.value,e.class],style:e.style},r)),{}}}),at=gt({color:String,expandIcon:{type:ge,default:"$expand"},collapseIcon:{type:ge,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean},"v-expansion-panel-title"),le=X()({name:"VExpansionPanelTitle",directives:{Ripple:vt},props:{...te(),...at()},setup(e,c){let{slots:r}=c;const s=He(se);if(!s)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:i,backgroundColorStyles:t}=re(e,"color"),m=$(()=>({collapseIcon:e.collapseIcon,disabled:s.disabled.value,expanded:s.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly}));return ee(()=>{var p;return qe(a("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":s.isSelected.value},i.value,e.class],style:[t.value,e.style],type:"button",tabindex:s.disabled.value?-1:void 0,disabled:s.disabled.value,"aria-expanded":s.isSelected.value,onClick:e.readonly?void 0:s.toggle},[a("span",{class:"v-expansion-panel-title__overlay"},null),(p=r.default)==null?void 0:p.call(r,m.value),!e.hideActions&&a("span",{class:"v-expansion-panel-title__icon"},[r.actions?r.actions(m.value):a(Q,{icon:s.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[pt("ripple"),e.ripple]])}),{}}}),ne=X()({name:"VExpansionPanelText",props:{...te(),...Ge()},setup(e,c){let{slots:r}=c;const s=He(se);if(!s)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:i,onAfterLeave:t}=Yt(e,s.isSelected);return ee(()=>a(_t,{onAfterLeave:t},{default:()=>{var m;return[qe(a("div",{class:["v-expansion-panel-text",e.class],style:e.style},[r.default&&i.value&&a("div",{class:"v-expansion-panel-text__wrapper"},[(m=r.default)==null?void 0:m.call(r)])]),[[ft,s.isSelected.value]])]}})),{}}}),ue=X()({name:"VExpansionPanel",props:{title:String,text:String,bgColor:String,...te(),...Ve(),...yt(),...Ge(),...he(),...me(),...at()},emits:{"group:selected":e=>!0},setup(e,c){let{slots:r}=c;const s=bt(e,se),{backgroundColorClasses:i,backgroundColorStyles:t}=re(e,"bgColor"),{elevationClasses:m}=xe(e),{roundedClasses:p}=ke(e),y=$(()=>(s==null?void 0:s.disabled.value)||e.disabled),f=$(()=>s.group.items.value.reduce((u,l,b)=>(s.group.selected.value.includes(l.id)&&u.push(b),u),[])),d=$(()=>{const u=s.group.items.value.findIndex(l=>l.id===s.id);return!s.isSelected.value&&f.value.some(l=>l-u===1)}),g=$(()=>{const u=s.group.items.value.findIndex(l=>l.id===s.id);return!s.isSelected.value&&f.value.some(l=>l-u===-1)});return Oe(se,s),ee(()=>{const u=!!(r.text||e.text),l=!!(r.title||e.title);return a(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":s.isSelected.value,"v-expansion-panel--before-active":d.value,"v-expansion-panel--after-active":g.value,"v-expansion-panel--disabled":y.value},p.value,i.value,e.class],style:[t.value,e.style],"aria-expanded":s.isSelected.value},{default:()=>{var b;return[a("div",{class:["v-expansion-panel__shadow",...m.value]},null),l&&a(le,{key:"title",collapseIcon:e.collapseIcon,color:e.color,expandIcon:e.expandIcon,hideActions:e.hideActions,ripple:e.ripple},{default:()=>[r.title?r.title():e.title]}),u&&a(ne,{key:"text",eager:e.eager},{default:()=>[r.text?r.text():e.text]}),(b=r.default)==null?void 0:b.call(r)]}})}),{}}}),Aa={class:"d-flex align-center justify-between mb-4"},Ta=C("span",{class:"mr-2"},"Filter",-1),lt={__name:"Filter",emits:["setCustomFilter"],setup(e,{emit:c}){const r=h([]),s=h([]),i=h([]),t=h(rt),m=u=>u.map(l=>({value:l.id,title:l.name,parent:l.parent_id})),p=()=>{const u={id:-2,name:"Default",parent_id:null};M.get("/admin/progress-categories").then(l=>{const{data:b}=l.data;r.value=m([u,...b.categories]),s.value=m(b.sub_categories)}),M.get("/admin/campaigns/racenames").then(l=>{i.value=["All",...l.data.racenames],t.value.racename="All"})},y=$(()=>t.value.category==null?[]:s.value.filter(u=>u.parent==t.value.category)),f=$(()=>[pe,...r.value]),d=$(()=>(t.value.sub_category=pe.value,[pe,...y.value])),g=()=>{c("setCustomFilter",t.value)};return W(()=>{p()}),(u,l)=>{const b=ce,w=fe;return P(),D("div",null,[C("div",Aa,[Ta,a(R,{onClick:g},{default:v(()=>[L(" Apply ")]),_:1})]),a(Pa,{multiple:""},{default:v(()=>[a(ue,null,{default:v(()=>[a(le,null,{default:v(()=>[L("Filter Basic: ")]),_:1}),a(ne,null,{default:v(()=>[a(b,{modelValue:n(t).category,"onUpdate:modelValue":l[0]||(l[0]=o=>n(t).category=o),class:"mt-2",items:n(f),variant:"outlined",label:"Progress Status"},null,8,["modelValue","items"]),a(b,{modelValue:n(t).sub_category,"onUpdate:modelValue":l[1]||(l[1]=o=>n(t).sub_category=o),class:"mt-2",items:n(d),variant:"outlined",label:"Sub Status"},null,8,["modelValue","items"]),a(w,{modelValue:n(t).importDate,"onUpdate:modelValue":l[2]||(l[2]=o=>n(t).importDate=o),class:"mt-2",label:"Import Date"},null,8,["modelValue"]),a(T,{modelValue:n(t).productgroup,"onUpdate:modelValue":l[3]||(l[3]=o=>n(t).productgroup=o),class:"mt-2",label:"Product Group"},null,8,["modelValue"]),a(T,{modelValue:n(t).productname,"onUpdate:modelValue":l[4]||(l[4]=o=>n(t).productname=o),class:"mt-2",label:"Product Name"},null,8,["modelValue"]),a(T,{modelValue:n(t).applicantidentity,"onUpdate:modelValue":l[5]||(l[5]=o=>n(t).applicantidentity=o),class:"mt-2",label:"Applicant Identity"},null,8,["modelValue"])]),_:1})]),_:1}),a(ue,null,{default:v(()=>[a(le,null,{default:v(()=>[L("Filter Applicant: ")]),_:1}),a(ne,null,{default:v(()=>[a(T,{modelValue:n(t).applicanttypename,"onUpdate:modelValue":l[6]||(l[6]=o=>n(t).applicanttypename=o),class:"mt-2",label:"Applicant Type Name"},null,8,["modelValue"]),a(T,{modelValue:n(t).applicantcompany,"onUpdate:modelValue":l[7]||(l[7]=o=>n(t).applicantcompany=o),class:"mt-2",label:"Applicant Company"},null,8,["modelValue"]),a(T,{modelValue:n(t).applicantbusinessregistrationnumber,"onUpdate:modelValue":l[8]||(l[8]=o=>n(t).applicantbusinessregistrationnumber=o),class:"mt-2",label:"Application Business Registration Number"},null,8,["modelValue"]),a(b,{modelValue:n(t).racename,"onUpdate:modelValue":l[9]||(l[9]=o=>n(t).racename=o),class:"mt-2",items:n(i),variant:"outlined",label:"Racename"},null,8,["modelValue","items"]),a(T,{modelValue:n(t).applicantname,"onUpdate:modelValue":l[10]||(l[10]=o=>n(t).applicantname=o),class:"mt-2",label:"Applicant Name"},null,8,["modelValue"]),a(T,{modelValue:n(t).applicantmobile,"onUpdate:modelValue":l[11]||(l[11]=o=>n(t).applicantmobile=o),class:"mt-2",label:"Applicant Mobile"},null,8,["modelValue"]),a(T,{modelValue:n(t).applicantfax,"onUpdate:modelValue":l[12]||(l[12]=o=>n(t).applicantfax=o),class:"mt-2",label:"Applicant Fax"},null,8,["modelValue"]),a(T,{modelValue:n(t).applicantaddress1,"onUpdate:modelValue":l[13]||(l[13]=o=>n(t).applicantaddress1=o),class:"mt-2",label:"Applicant Address1"},null,8,["modelValue"]),a(T,{modelValue:n(t).applicantaddress2,"onUpdate:modelValue":l[14]||(l[14]=o=>n(t).applicantaddress2=o),class:"mt-2",label:"Applicant Address2"},null,8,["modelValue"]),a(T,{modelValue:n(t).applicantaddress3,"onUpdate:modelValue":l[15]||(l[15]=o=>n(t).applicantaddress3=o),class:"mt-2",label:"Applicant Address3"},null,8,["modelValue"]),a(T,{modelValue:n(t).applicantpostcode,"onUpdate:modelValue":l[16]||(l[16]=o=>n(t).applicantpostcode=o),class:"mt-2",label:"Applicant Postcode"},null,8,["modelValue"]),a(T,{modelValue:n(t).applicantcity,"onUpdate:modelValue":l[17]||(l[17]=o=>n(t).applicantcity=o),class:"mt-2",label:"Applicant City"},null,8,["modelValue"]),a(T,{modelValue:n(t).applicantstate,"onUpdate:modelValue":l[18]||(l[18]=o=>n(t).applicantstate=o),class:"mt-2",label:"Applicant State"},null,8,["modelValue"]),a(T,{modelValue:n(t).applicantemail,"onUpdate:modelValue":l[19]||(l[19]=o=>n(t).applicantemail=o),class:"mt-2",label:"Applicant Email"},null,8,["modelValue"])]),_:1})]),_:1}),a(ue,null,{default:v(()=>[a(le,null,{default:v(()=>[L("Filter Instanllation: ")]),_:1}),a(ne,null,{default:v(()=>[a(T,{modelValue:n(t).installationaddress1,"onUpdate:modelValue":l[20]||(l[20]=o=>n(t).installationaddress1=o),class:"mt-2",label:"Installation Address1"},null,8,["modelValue"]),a(T,{modelValue:n(t).installationaddress2,"onUpdate:modelValue":l[21]||(l[21]=o=>n(t).installationaddress2=o),class:"mt-2",label:"Installation Address2"},null,8,["modelValue"]),a(T,{modelValue:n(t).installationaddress3,"onUpdate:modelValue":l[22]||(l[22]=o=>n(t).installationaddress3=o),class:"mt-2",label:"Installation Address3"},null,8,["modelValue"]),a(T,{modelValue:n(t).installationpostcode,"onUpdate:modelValue":l[23]||(l[23]=o=>n(t).installationpostcode=o),class:"mt-2",label:"Installation Postcode"},null,8,["modelValue"]),a(T,{modelValue:n(t).installationcity,"onUpdate:modelValue":l[24]||(l[24]=o=>n(t).installationcity=o),class:"mt-2",label:"Installation City"},null,8,["modelValue"]),a(T,{modelValue:n(t).installationstate,"onUpdate:modelValue":l[25]||(l[25]=o=>n(t).installationstate=o),class:"mt-2",label:"Installation State"},null,8,["modelValue"]),a(T,{modelValue:n(t).installationpropertytype,"onUpdate:modelValue":l[26]||(l[26]=o=>n(t).installationpropertytype=o),class:"mt-2",label:"Installation Property Type"},null,8,["modelValue"]),a(T,{modelValue:n(t).installationcontactperson,"onUpdate:modelValue":l[27]||(l[27]=o=>n(t).installationcontactperson=o),class:"mt-2",label:"Installation Contact Person"},null,8,["modelValue"]),a(T,{modelValue:n(t).installationcontactnumber,"onUpdate:modelValue":l[28]||(l[28]=o=>n(t).installationcontactnumber=o),class:"mt-2",label:"Installation Contact Number"},null,8,["modelValue"])]),_:1})]),_:1}),a(ue,null,{default:v(()=>[a(le,null,{default:v(()=>[L("Filter Billing: ")]),_:1}),a(ne,null,{default:v(()=>[a(T,{modelValue:n(t).billingaddress1,"onUpdate:modelValue":l[29]||(l[29]=o=>n(t).billingaddress1=o),class:"mt-2",label:"Billing Address1"},null,8,["modelValue"]),a(T,{modelValue:n(t).billingaddress2,"onUpdate:modelValue":l[30]||(l[30]=o=>n(t).billingaddress2=o),class:"mt-2",label:"Billing Address2"},null,8,["modelValue"]),a(T,{modelValue:n(t).billingaddress3,"onUpdate:modelValue":l[31]||(l[31]=o=>n(t).billingaddress3=o),class:"mt-2",label:"Billing Address3"},null,8,["modelValue"]),a(T,{modelValue:n(t).billingpostcode,"onUpdate:modelValue":l[32]||(l[32]=o=>n(t).billingpostcode=o),class:"mt-2",label:"Billing Postcode"},null,8,["modelValue"]),a(T,{modelValue:n(t).billingcity,"onUpdate:modelValue":l[33]||(l[33]=o=>n(t).billingcity=o),class:"mt-2",label:"Billing City"},null,8,["modelValue"]),a(T,{modelValue:n(t).billingstate,"onUpdate:modelValue":l[34]||(l[34]=o=>n(t).billingstate=o),class:"mt-2",label:"Billing State"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])}}};const $a=Gt("v-alert-title"),Ia=["success","info","warning","error"],de=X()({name:"VAlert",props:{border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:ge,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>Ia.includes(e)},...te(),...Vt(),...ht(),...Ve(),...xt(),...kt(),...he(),...me(),...ye(),...wt({variant:"flat"})},emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,c){let{emit:r,slots:s}=c;const i=ze(e,"modelValue"),t=$(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),m=$(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:p}=be(e),{colorClasses:y,colorStyles:f,variantClasses:d}=St(m),{densityClasses:g}=Ct(e),{dimensionStyles:u}=Pt(e),{elevationClasses:l}=xe(e),{locationStyles:b}=At(e),{positionClasses:w}=Tt(e),{roundedClasses:o}=ke(e),{textColorClasses:_,textColorStyles:S}=$t(F(e,"borderColor")),{t:V}=It(),A=$(()=>({"aria-label":V(e.closeLabel),onClick(x){i.value=!1,r("click:close",x)}}));return()=>{const x=!!(s.prepend||t.value),k=!!(s.title||e.title),I=!!(e.text||s.text),U=!!(s.close||e.closable);return i.value&&a(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},p.value,y.value,g.value,l.value,w.value,o.value,d.value,e.class],style:[f.value,u.value,b.value,e.style],role:"alert"},{default:()=>{var O,H;return[Lt(!1,"v-alert"),e.border&&a("div",{key:"border",class:["v-alert__border",_.value],style:S.value},null),x&&a("div",{key:"prepend",class:"v-alert__prepend"},[s.prepend?a(De,{key:"prepend-defaults",disabled:!t.value,defaults:{VIcon:{density:e.density,icon:t.value,size:e.prominent?44:28}}},s.prepend):a(Q,{key:"prepend-icon",density:e.density,icon:t.value,size:e.prominent?44:28},null)]),a("div",{class:"v-alert__content"},[k&&a($a,{key:"title"},{default:()=>{var q;return[((q=s.title)==null?void 0:q.call(s))??e.title]}}),I&&(((O=s.text)==null?void 0:O.call(s))??e.text),(H=s.default)==null?void 0:H.call(s)]),s.append&&a("div",{key:"append",class:"v-alert__append"},[s.append()]),U&&a("div",{key:"close",class:"v-alert__close"},[s.close?a(De,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var q;return[(q=s.close)==null?void 0:q.call(s,{props:A.value})]}}):a(R,we({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},A.value),null)])]}})}}}),La=C("div",{class:"v-card-title"},"Manual Assign 2",-1),Da={class:"mx-2"},Fa={key:0,class:"text-right",style:{color:"rgb(var(--v-theme-error))"}},Ba={__name:"ManualAssign2",setup(e){const c=h("result: 2"),r=h("FOLLOWUP = 2"),s=()=>{};return(i,t)=>(P(),D("div",null,[La,a(ie,{class:"my-4"},{default:v(()=>[a(j,{cols:"12",md:"3"},{default:v(()=>[a(lt)]),_:1}),a(j,{cols:"12",md:"6"},{default:v(()=>[C("div",Da,[a(de,{variant:"outlined",color:"error"},{default:v(()=>[L(" Note: This action will replace on assigned data, if data assigned, and each time will limit 200 result ")]),_:1}),a(Xe,{class:"mt-4",items:i.users,variant:"outlined",label:"Assign Data To"},null,8,["items"]),a(T,{class:"mt-4",label:"Assign Limit"}),n(c).length>0?(P(),D("div",Fa,B(n(c)),1)):E("",!0),a(R,{class:"mt-4",onClick:s},{default:v(()=>[L(" Assign ")]),_:1})])]),_:1}),a(j,{cols:"12",md:"3"},{default:v(()=>[n(r).length>0?(P(),Y(de,{key:0,variant:"outlined",color:"error"},{default:v(()=>[L(B(n(r)),1)]),_:1})):E("",!0)]),_:1})]),_:1})]))}},Ue={__name:"ActionButton",props:{menuList:{type:Array,required:!1},menuTitle:{type:String,required:!0},itemProps:{type:Boolean,required:!1}},emits:["update-action"],setup(e,{emit:c}){const r=e,s=i=>{c("update-action",i)};return(i,t)=>(P(),Y(R,{color:"primary",rounded:"pill"},{default:v(()=>[C("span",null,B(e.menuTitle),1),a(Q,{icon:"tabler-chevron-down"}),r.menuList?(P(),Y(Ze,{key:0,activator:"parent"},{default:v(()=>[a(Je,null,{default:v(()=>[(P(!0),D(J,null,K(r.menuList,(m,p)=>(P(),Y(Qe,{onClick:y=>s(m.value)},{default:v(()=>[L(B(m.title),1)]),_:2},1032,["onClick"]))),256))]),_:1})]),_:1})):E("",!0)]),_:1}))}};const Ua=C("div",{class:"v-card-title"},"Blocking",-1),Ea={class:"mt-2"},Na=C("div",{class:"d-flex align-center mt-4"},[C("div",{class:"text-high-emphasis fixed-label font-weight-bold"}," Name "),C("div",{class:"text-high-emphasis fixed-label font-weight-bold"}," Status ")],-1),Ma={key:0},Ra={class:"mt-6 d-flex justify-center"},Oa={__name:"Blocking",setup(e){const c=h([{id:1952,name:"NICOLE"},{id:1953,name:"JENNY"},{id:1954,name:"SOPHIE"}]),r=["Allow","Block"];return(s,i)=>(P(),D("div",null,[Ua,C("div",Ea,[a(ie,null,{default:v(()=>[a(j,{cols:"12",md:"4"}),a(j,{cols:"12",md:"4"},{default:v(()=>[Na,(P(!0),D(J,null,K(n(c),(t,m)=>(P(),D("div",{key:m,class:"d-flex align-center mt-4"},[a(Wt,{for:s.elementId,class:"text-high-emphasis fixed-label",text:`(${t.id}) ${t.name}`},null,8,["for","text"]),a(ce,{items:r})]))),128)),n(c).length==0?(P(),D("div",Ma," There are no agents. ")):E("",!0),C("div",Ra,[a(R,null,{default:v(()=>[L(" Apply ")]),_:1})])]),_:1}),a(j,{cols:"12",md:"4"})]),_:1})])]))}},Ha=C("div",{class:"v-card-title"},"Auto Assign",-1),qa=C("div",{class:"mt-4 font-weight-bold"},[C("small",null,"Assigned Count")],-1),za={class:"text-right"},ja={class:"font-weight-bold"},Ya={__name:"AutoAssign",emits:["update-action"],setup(e,{emit:c}){const r=h(0),s=h(0),i=h(0),t=oe();je();const m=parseInt(t.params.id),p=h(""),y=$(()=>p.value.length>0),f=["Normal","Random"],d=h([]),g=h(null),u=h("Normal"),l=h(0),b=()=>{const S=g.value,V=u.value,A=l.value;if(S==null||S==""){p.value="Please select a team leader";return}if(V==null||V==""){p.value="Please select a assign method";return}if(A==0){p.value="Amount must not be 0";return}if(A>r.value){p.value="amount must be less than or equal to available count";return}const x={leader:S,method:V,amount:A};M.post(`/admin/campaigns/${m}/assign`,x).then(k=>{o()})},w=()=>{const S=Me()?"/users/leaders":"/users/agents";M.get(S).then(V=>{const{leaders:A}=V.data;d.value=A.map(x=>({value:x.id,title:x.username}))})},o=()=>{M.get(`/admin/campaigns/${m}/count-unassigned`).then(S=>{const{unassigned_count:V,total_count:A}=S.data;r.value=V,s.value=A,A!=0&&(i.value=100-V*100/A)})},_=()=>{c("update-action","list")};return W(()=>{w(),o()}),(S,V)=>{const A=ce,x=Ke;return P(),D("div",null,[Ha,a(ie,{class:"my-4"},{default:v(()=>[a(j,{cols:"12",md:"3"}),a(j,{cols:"12",md:"6"},{default:v(()=>[a(de,{class:"mt-4",variant:"outlined",color:"error"},{default:v(()=>[L(" Note: This will apply on unassigned data ")]),_:1}),qa,a(Ye,{color:"primary",modelValue:n(i),"onUpdate:modelValue":V[0]||(V[0]=k=>N(i)?i.value=k:null),striped:""},null,8,["modelValue"]),C("div",za,[C("small",ja,"unassigned "+B(n(r)),1),C("small",null," / total "+B(n(s)),1)]),a(A,{class:"mt-4",items:n(d),modelValue:n(g),"onUpdate:modelValue":V[1]||(V[1]=k=>N(g)?g.value=k:null),label:"Assign Data To"},null,8,["items","modelValue"]),a(A,{class:"mt-4",items:f,modelValue:n(u),"onUpdate:modelValue":V[2]||(V[2]=k=>N(u)?u.value=k:null),label:"Method"},null,8,["modelValue"]),a(x,{class:"mt-4",label:"Amount",type:"number",modelValue:n(l),"onUpdate:modelValue":V[3]||(V[3]=k=>N(l)?l.value=k:null)},null,8,["modelValue"]),a(R,{class:"mr-4 my-4",color:"error",onClick:_},{default:v(()=>[L(" Back to Main ")]),_:1}),a(R,{class:"my-4",onClick:b},{default:v(()=>[L(" Assign ")]),_:1})]),_:1}),a(j,{cols:"12",md:"3"}),a(Se,{modelValue:n(y),"onUpdate:modelValue":V[4]||(V[4]=k=>N(y)?y.value=k:null),timeout:1e3,location:"top end",color:"error"},{default:v(()=>[L(B(n(p)),1)]),_:1},8,["modelValue"])]),_:1})])}}},Wa=C("div",{class:"v-card-title"}," Manual Assign ",-1),Ga={class:"mx-2"},Xa=C("h4",{class:"mt-6"}," Assigned Count ",-1),Za={class:"text-right"},Ja={class:"font-weight-bold"},Qa={class:"text-right"},Ka={__name:"ManualAssign",setup(e){const c=h(0),r=h(0),s=h(0),i=h(),t=h([]),m=h(),p=h(),y=h(""),f=$(()=>y.value.length>0),d=()=>{const o=Me()?"/users/leaders":"/users/agents";M.get(o).then(_=>{const{leaders:S}=_.data;t.value=S.map(V=>({value:V.id,title:V.username}))})},g=()=>{const o=m.value,_=p.value;if(o==null||o==""){y.value="Please select a team leader";return}if(_==0){y.value="Amount must not be 0";return}if(_>c.value){y.value="amount must be less than or equal to available count";return}const S={leader:o,method:"Random",amount:_,...i.value};M.post(`/admin/campaigns/${w}/assign-filter`,S).then(V=>{l(i.value)})},u=o=>{l({...o}),i.value=o},l=o=>{M.get(`/admin/campaigns/${w}/count-unassigned-filter`,{params:o}).then(_=>{const{unassigned_count:S,total_count:V}=_.data;c.value=S,r.value=V,V!=0&&(s.value=100-S*100/V)})},b=oe(),w=parseInt(b.params.id);return W(()=>{d(),l({})}),(o,_)=>{const S=ce;return P(),D("div",null,[Wa,a(ie,{class:"my-4"},{default:v(()=>[a(j,{cols:"12",md:"4"},{default:v(()=>[a(lt,{onSetCustomFilter:u})]),_:1}),a(j,{cols:"12",md:"8"},{default:v(()=>[C("div",Ga,[a(de,{variant:"outlined",color:"error"},{default:v(()=>[L(" Note: This action will replace on assigned data ")]),_:1}),Xa,a(Ye,{modelValue:n(s),"onUpdate:modelValue":_[0]||(_[0]=V=>N(s)?s.value=V:null),color:"primary",class:"mt-2",striped:""},null,8,["modelValue"]),C("div",Za,[C("small",Ja,"unassigned "+B(n(c)),1),C("small",null," / total "+B(n(r)),1)]),a(S,{modelValue:n(m),"onUpdate:modelValue":_[1]||(_[1]=V=>N(m)?m.value=V:null),class:"mt-4",items:n(t),variant:"outlined",label:"Assign Data To"},null,8,["modelValue","items"]),a(T,{modelValue:n(p),"onUpdate:modelValue":_[2]||(_[2]=V=>N(p)?p.value=V:null),class:"mt-4",label:"Assign Limit"},null,8,["modelValue"]),C("div",Qa,[a(R,{class:"mt-4",onClick:g},{default:v(()=>[L(" Assign ")]),_:1})])])]),_:1})]),_:1}),a(Se,{modelValue:n(f),"onUpdate:modelValue":_[3]||(_[3]=V=>N(f)?f.value=V:null),timeout:1e3,location:"top end",color:"error"},{default:v(()=>[L(B(n(y)),1)]),_:1},8,["modelValue"])])}}};function el(e){let{rootEl:c,isSticky:r,layoutItemStyles:s}=e;const i=h(!1),t=h(0),m=$(()=>{const f=typeof i.value=="boolean"?"top":i.value;return[r.value?{top:"auto",bottom:"auto",height:void 0}:void 0,i.value?{[f]:ae(t.value)}:{top:s.value.top}]});W(()=>{G(r,f=>{f?window.addEventListener("scroll",y,{passive:!0}):window.removeEventListener("scroll",y)},{immediate:!0})}),We(()=>{document.removeEventListener("scroll",y)});let p=0;function y(){const f=p>window.scrollY?"up":"down",d=c.value.getBoundingClientRect(),g=parseFloat(s.value.top??0),u=window.scrollY-Math.max(0,t.value-g),l=d.height+Math.max(t.value,g)-window.scrollY-window.innerHeight;d.height<window.innerHeight-g?(i.value="top",t.value=g):f==="up"&&i.value==="bottom"||f==="down"&&i.value==="top"?(t.value=window.scrollY+d.top,i.value=!0):f==="down"&&l<=0?(t.value=0,i.value="bottom"):f==="up"&&u<=0&&(t.value=d.top+u,i.value="top"),p=window.scrollY}return{isStuck:i,stickyStyles:m}}const tl=100,al=20;function Ee(e){const c=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*c}function Ne(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let c=0;for(let r=e.length-1;r>0;r--){if(e[r].t===e[r-1].t)continue;const s=Ee(c),i=(e[r].d-e[r-1].d)/(e[r].t-e[r-1].t);c+=(i-s)*Math.abs(i),r===e.length-1&&(c*=.5)}return Ee(c)*1e3}function ll(){const e={};function c(i){Array.from(i.changedTouches).forEach(t=>{(e[t.identifier]??(e[t.identifier]=new Dt(al))).push([i.timeStamp,t])})}function r(i){Array.from(i.changedTouches).forEach(t=>{delete e[t.identifier]})}function s(i){var f;const t=(f=e[i])==null?void 0:f.values().reverse();if(!t)throw new Error(`No samples for touch id ${i}`);const m=t[0],p=[],y=[];for(const d of t){if(m[0]-d[0]>tl)break;p.push({t:d[0],d:d[1].clientX}),y.push({t:d[0],d:d[1].clientY})}return{x:Ne(p),y:Ne(y),get direction(){const{x:d,y:g}=this,[u,l]=[Math.abs(d),Math.abs(g)];return u>l&&d>=0?"right":u>l&&d<=0?"left":l>u&&g>=0?"down":l>u&&g<=0?"up":nl()}}}return{addMovement:c,endTouch:r,getVelocity:s}}function nl(){throw new Error}function sl(e){let{isActive:c,isTemporary:r,width:s,touchless:i,position:t}=e;W(()=>{window.addEventListener("touchstart",_,{passive:!0}),window.addEventListener("touchmove",S,{passive:!1}),window.addEventListener("touchend",V,{passive:!0})}),We(()=>{window.removeEventListener("touchstart",_),window.removeEventListener("touchmove",S),window.removeEventListener("touchend",V)});const m=$(()=>["left","right"].includes(t.value)),{addMovement:p,endTouch:y,getVelocity:f}=ll();let d=!1;const g=h(!1),u=h(0),l=h(0);let b;function w(x,k){return(t.value==="left"?x:t.value==="right"?document.documentElement.clientWidth-x:t.value==="top"?x:t.value==="bottom"?document.documentElement.clientHeight-x:Z())-(k?s.value:0)}function o(x){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const I=t.value==="left"?(x-l.value)/s.value:t.value==="right"?(document.documentElement.clientWidth-x-l.value)/s.value:t.value==="top"?(x-l.value)/s.value:t.value==="bottom"?(document.documentElement.clientHeight-x-l.value)/s.value:Z();return k?Math.max(0,Math.min(1,I)):I}function _(x){if(i.value)return;const k=x.changedTouches[0].clientX,I=x.changedTouches[0].clientY,U=25,O=t.value==="left"?k<U:t.value==="right"?k>document.documentElement.clientWidth-U:t.value==="top"?I<U:t.value==="bottom"?I>document.documentElement.clientHeight-U:Z(),H=c.value&&(t.value==="left"?k<s.value:t.value==="right"?k>document.documentElement.clientWidth-s.value:t.value==="top"?I<s.value:t.value==="bottom"?I>document.documentElement.clientHeight-s.value:Z());(O||H||c.value&&r.value)&&(d=!0,b=[k,I],l.value=w(m.value?k:I,c.value),u.value=o(m.value?k:I),y(x),p(x))}function S(x){const k=x.changedTouches[0].clientX,I=x.changedTouches[0].clientY;if(d){if(!x.cancelable){d=!1;return}const O=Math.abs(k-b[0]),H=Math.abs(I-b[1]);(m.value?O>H&&O>3:H>O&&H>3)?(g.value=!0,d=!1):(m.value?H:O)>3&&(d=!1)}if(!g.value)return;x.preventDefault(),p(x);const U=o(m.value?k:I,!1);u.value=Math.max(0,Math.min(1,U)),U>1?l.value=w(m.value?k:I,!0):U<0&&(l.value=w(m.value?k:I,!1))}function V(x){if(d=!1,!g.value)return;p(x),g.value=!1;const k=f(x.changedTouches[0].identifier),I=Math.abs(k.x),U=Math.abs(k.y);(m.value?I>U&&I>400:U>I&&U>3)?c.value=k.direction===({left:"right",right:"left",top:"down",bottom:"up"}[t.value]||Z()):c.value=u.value>.5}const A=$(()=>g.value?{transform:t.value==="left"?`translateX(calc(-100% + ${u.value*s.value}px))`:t.value==="right"?`translateX(calc(100% - ${u.value*s.value}px))`:t.value==="top"?`translateY(calc(-100% + ${u.value*s.value}px))`:t.value==="bottom"?`translateY(calc(100% - ${u.value*s.value}px))`:Z(),transition:"none"}:void 0);return{isDragging:g,dragProgress:u,dragStyles:A}}function Z(){throw new Error}const ol=["start","end","left","right","top","bottom"],il=X()({name:"VNavigationDrawer",props:{color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[String,Boolean],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>ol.includes(e)},sticky:Boolean,...Ft(),...te(),...Ve(),...Bt(),...he(),...me({tag:"nav"}),...ye()},emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,c){let{attrs:r,emit:s,slots:i}=c;const{isRtl:t}=Ut(),{themeClasses:m}=be(e),{borderClasses:p}=Et(e),{backgroundColorClasses:y,backgroundColorStyles:f}=re(F(e,"color")),{elevationClasses:d}=xe(e),{mobile:g}=Nt(),{roundedClasses:u}=ke(e),l=Mt(),b=ze(e,"modelValue",null,z=>!!z),{ssrBootStyles:w}=Xt(),o=h(),_=h(!1),S=$(()=>e.rail&&e.expandOnHover&&_.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),V=$(()=>Rt(e.location,t.value)),A=$(()=>!e.permanent&&(g.value||e.temporary)),x=$(()=>e.sticky&&!A.value&&V.value!=="bottom");e.expandOnHover&&e.rail!=null&&G(_,z=>s("update:rail",!z)),e.disableResizeWatcher||G(A,z=>!e.permanent&&Ot(()=>b.value=!z)),!e.disableRouteWatcher&&l&&G(l.currentRoute,()=>A.value&&(b.value=!1)),G(()=>e.permanent,z=>{z&&(b.value=!0)}),Ht(()=>{e.modelValue!=null||A.value||(b.value=e.permanent||!g.value)});const{isDragging:k,dragProgress:I,dragStyles:U}=sl({isActive:b,isTemporary:A,width:S,touchless:F(e,"touchless"),position:V}),O=$(()=>{const z=A.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):S.value;return k.value?z*I.value:z}),{layoutItemStyles:H,layoutRect:q,layoutItemScrimStyles:nt}=qt({id:e.name,order:$(()=>parseInt(e.order,10)),position:V,layoutSize:O,elementSize:S,active:$(()=>b.value||k.value),disableTransitions:$(()=>k.value),absolute:$(()=>e.absolute||x.value&&typeof Ce.value!="string")}),{isStuck:Ce,stickyStyles:st}=el({rootEl:o,isSticky:x,layoutItemStyles:H}),Pe=re($(()=>typeof e.scrim=="string"?e.scrim:null)),ot=$(()=>({...k.value?{opacity:I.value*.2,transition:"none"}:void 0,...q.value?{left:ae(q.value.left),right:ae(q.value.right),top:ae(q.value.top),bottom:ae(q.value.bottom)}:void 0,...nt.value}));_e({VList:{bgColor:"transparent"}});function it(){_.value=!0}function ut(){_.value=!1}return ee(()=>{const z=i.image||e.image;return a(J,null,[a(e.tag,we({ref:o,onMouseenter:it,onMouseleave:ut,class:["v-navigation-drawer",`v-navigation-drawer--${V.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":_.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":A.value,"v-navigation-drawer--active":b.value,"v-navigation-drawer--sticky":x.value},m.value,y.value,p.value,d.value,u.value,e.class],style:[f.value,H.value,U.value,w.value,st.value,e.style]},r),{default:()=>{var Ae,Te,$e,Ie;return[z&&a("div",{key:"image",class:"v-navigation-drawer__img"},[i.image?(Ae=i.image)==null?void 0:Ae.call(i,{image:e.image}):a("img",{src:e.image,alt:""},null)]),i.prepend&&a("div",{class:"v-navigation-drawer__prepend"},[(Te=i.prepend)==null?void 0:Te.call(i)]),a("div",{class:"v-navigation-drawer__content"},[($e=i.default)==null?void 0:$e.call(i)]),i.append&&a("div",{class:"v-navigation-drawer__append"},[(Ie=i.append)==null?void 0:Ie.call(i)])]}}),a(zt,{name:"fade-transition"},{default:()=>[A.value&&(k.value||b.value)&&!!e.scrim&&a("div",{class:["v-navigation-drawer__scrim",Pe.backgroundColorClasses.value],style:[ot.value,Pe.backgroundColorStyles.value],onClick:()=>b.value=!1},null)]})])}),{isStuck:Ce}}}),ul={class:"customizer-heading d-flex align-center justify-space-between"},rl=C("div",null,[C("h6",{class:"text-h6"}," Custom Filter "),C("span",{class:"text-body-1"},"Customize fields for Filter")],-1),dl={class:"mx-6 pt-4"},cl={class:"mt-2 d-flex align-end justify-start"},ml={__name:"CustomFilter",props:{isNavDrawerOpen:{type:Boolean,required:!0}},emits:["close-custom-filter"],setup(e,{emit:c}){const r=e,s=$(()=>i.value.length>0),i=h(""),t=h(""),m=()=>{t.value=""},p=h({applicantname:"",applicantidentity:""}),y=jt(r,"isNavDrawerOpen"),f=()=>{const g=p.value,u=t.value;let l=null,b=null;u&&u.length>0&&([l,b]=u.split(" to "),b||(b=l)),c("apply-custom-filter",{applicantname:g.applicantname.trim(),applicantidentity:g.applicantidentity.trim(),start_date:l,end_date:b})},d=()=>{c("close-custom-filter")};return(g,u)=>{const l=Fe("IconBtn"),b=fe,w=Ke,o=Fe("PerfectScrollbar");return P(),D("div",null,[a(il,{modelValue:n(y),"onUpdate:modelValue":u[3]||(u[3]=_=>N(y)?y.value=_:null),temporary:"",border:"0",location:"end",width:"400",scrim:!1,class:"app-customizer"},{default:v(()=>[C("div",ul,[rl,a(l,{onClick:d},{default:v(()=>[a(Q,{icon:"tabler-x",size:"20"})]),_:1})]),a(Zt),a(o,{tag:"ul",options:{wheelPropagation:!1}},{default:v(()=>[C("div",dl,[C("div",cl,[a(b,{modelValue:n(t),"onUpdate:modelValue":u[0]||(u[0]=_=>N(t)?t.value=_:null),label:"Period",config:{mode:"range"}},null,8,["modelValue"]),a(l,{class:"mr-4",color:"primary",disabled:!n(t)||n(t)=="",onClick:m},{default:v(()=>[a(Q,{icon:"tabler-eraser"})]),_:1},8,["disabled"])]),a(w,{class:"mt-2",modelValue:n(p).applicantname,"onUpdate:modelValue":u[1]||(u[1]=_=>n(p).applicantname=_),label:"Applicant Name"},null,8,["modelValue"]),a(w,{class:"mt-2",modelValue:n(p).applicantidentity,"onUpdate:modelValue":u[2]||(u[2]=_=>n(p).applicantidentity=_),label:"Applicant Identity"},null,8,["modelValue"]),a(R,{block:"",class:"mt-4",onClick:f},{default:v(()=>[L(" Apply Custom Filter ")]),_:1})])]),_:1})]),_:1},8,["modelValue"]),a(Se,{modelValue:n(s),"onUpdate:modelValue":u[4]||(u[4]=_=>N(s)?s.value=_:null),timeout:1e3,location:"top end",color:"error"},{default:v(()=>[L(B(n(i)),1)]),_:1},8,["modelValue"])])}}};const vl={class:"filter-tabs"},pl=C("div",{class:"d-flex w-full"},[C("small",null,"Filter: ")],-1),gl={class:"mb-2"},fl={__name:"FilterTabs",props:{filterList:{type:Object,required:!1},status:{type:String,required:!0},sub_status:{type:String,required:!0},is_custom:{type:String,required:!1}},emits:["set-filter","set-custom-filter"],setup(e,{emit:c}){const r=e,s=F(r,"status"),i=F(r,"sub_status"),t=F(r,"is_custom"),m="submission",p=(d,g)=>{c("set-filter",{status:d,sub_status:g})},y=()=>{c("set-custom-filter")},f=d=>{d=="Default"?p("Default",""):d==m&&p(m,m)};return(d,g)=>(P(),D("div",vl,[pl,C("div",gl,[(P(!0),D(J,null,K(r.filterList,(u,l)=>(P(),Y(Ze,{key:l},{activator:v(({props:b})=>[u.items.All>0?(P(),Y(R,we({key:0,variant:"text",color:!n(t)&&u.key.toLowerCase()==n(s).toLowerCase()?"primary":"black"},b,{onClick:w=>f(u.key)}),{default:v(()=>[a(Be,{class:"custom__badge mr-4",content:u.items.All,"offset-x":-8,"offset-y":-8},{default:v(()=>[L(B(u.key),1)]),_:2},1032,["content"]),Object.keys(u.items).length>1?(P(),Y(Q,{key:0,icon:"tabler-chevron-down"})):E("",!0)]),_:2},1040,["color","onClick"])):E("",!0)]),default:v(()=>[Object.keys(u.items).length>1?(P(),Y(Je,{key:0},{default:v(()=>[(P(!0),D(J,null,K(u.items,(b,w)=>(P(),Y(Qe,{key:w,active:w.toLowerCase()==n(i).toLowerCase()&&u.key.toLowerCase()==n(s).toLowerCase(),onClick:o=>p(u.key,w)},{default:v(()=>[a(Be,{class:"custom__badge",content:b,"offset-x":-18,"offset-y":6},{default:v(()=>[L(B(w),1)]),_:2},1032,["content"])]),_:2},1032,["active","onClick"]))),128))]),_:2},1024)):E("",!0)]),_:2},1024))),128)),a(R,{class:"ml-2",variant:"outlined",color:n(t)?"primary":"black",onClick:y},{default:v(()=>[L(" Custom Filter ")]),_:1},8,["color"])])]))}},_l={__name:"FilteredList",props:{showSelect:{type:Boolean,required:!1},status:{type:String,required:!0},sub_status:{type:String,required:!0},custom_filter:{type:Object,required:!1},campaign_id:{type:Number,required:!0},is_custom:{type:Boolean,required:!0}},setup(e){const c=e,r=je(),s=h(!1),i=h({...dt,page:Number(localStorage.getItem("page"))||1,itemsPerPage:Number(localStorage.getItem("itemsPerPage"))||50}),t=h(0),m=F(c,"status"),p=F(c,"sub_status"),y=F(c,"is_custom"),f=h([]),d=Re(),g=d?Le.campaignTable:Le.campaignTable.filter(w=>w.key!="assigned_leader"&&w.key!="assigned_user"),u=(w,o)=>{r.push(`/campaign-detail/${o.item.raw.id}`)},l=async()=>{s.value=!0;const w={status:m.value,sub_status:p.value,...c.custom_filter};M.post(`/admin/campaigns/${c.campaign_id}/list?page=${i.value.page}&itemsPerPage=${i.value.itemsPerPage}`,w).then(o=>{const{total:_,list:S}=o.data;f.value=S,t.value=Math.ceil(_/i.value.itemsPerPage),s.value=!1,localStorage.setItem("itemsPerPage",i.value.itemsPerPage),localStorage.setItem("page",i.value.page)}).catch(o=>{console.error("Error fetching data:",o),s.value=!1})};G([()=>i.value.page],()=>{l()});const b=w=>{i.value.page==1?l():i.value.page=1};return G([m,p,y,()=>c.custom_filter],()=>{i.value.page=1,l()}),W(()=>{l()}),(w,o)=>(P(),Y(n(Sa),{headers:n(g),items:n(f),"items-per-page":n(i).itemsPerPage,loading:n(s),"fixed-header":"",height:"600",density:"default","onClick:row":u},ve({bottom:v(()=>[a(et,{class:"mt-8"},{default:v(()=>[a(ie,null,{default:v(()=>[a(Xe,{modelValue:n(i).itemsPerPage,"onUpdate:modelValue":[o[0]||(o[0]=_=>n(i).itemsPerPage=_),b],items:[5,10,25,50,100],label:"Rows per page:",variant:"underlined",style:{"max-inline-size":"8rem","min-inline-size":"5rem"}},null,8,["modelValue"]),a(j,{lg:"10",cols:"9",class:"d-flex justify-end"},{default:v(()=>[a(wa,{modelValue:n(i).page,"onUpdate:modelValue":o[1]||(o[1]=_=>n(i).page=_),"total-visible":"5",length:n(t)},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:2},[n(d)?{name:"item.assigned_leader",fn:v(({item:_})=>{var S;return[L(B((S=_.raw.leader)==null?void 0:S.name),1)]}),key:"0"}:void 0,n(d)?{name:"item.assigned_user",fn:v(({item:_})=>{var S;return[L(B((S=_.raw.agent)==null?void 0:S.name),1)]}),key:"1"}:void 0]),1032,["headers","items","items-per-page","loading"]))}},yl={__name:"ListWithFilter",props:{campaign_id:{type:Number,required:!0}},setup(e){const c=e,r=h({}),s=h(localStorage.getItem("status")??"Default"),i=h(localStorage.getItem("sub_status")??""),t=h(!1),m=h(!1),p=h({}),y=l=>{M.get(`/admin/campaigns/${c.campaign_id}/filters`,{status:s.value,sub_status:i.value,...l}).then(b=>{const w=[],{counts_status:o,counts_substatus:_}=b.data;let S,V;for(var A of o){const x=A.progressStatus==""?"Default":A.progressStatus,k={All:A.count};x=="Default"?A.count!=0&&(S={key:x,items:k}):x=="submission"?A.count!=0&&(V={key:x,items:k}):(_.filter(I=>I.progressStatus==A.progressStatus).forEach(I=>{k[I.progressSubStatus]=I.count}),w.push({key:x,items:k}))}S&&w.unshift(S),V&&w.push(V),r.value=w})},f=l=>{(s.value!=l.status||i.value!=l.sub_status)&&(s.value=l.status,i.value=l.sub_status,m.value=!1,localStorage.setItem("status",s.value),localStorage.setItem("sub_status",i.value))},d=()=>{t.value=!0},g=()=>{t.value=!1},u=l=>{l.applicantname.length==0&&l.applicantidentity.length==0&&(!l.start_date||l.start_date.length==0)&&(!l.end_date||l.end_date.length==0)?(m.value=!1,p.value={}):(m.value=!0,p.value=l)};return W(()=>{y()}),(l,b)=>(P(),D("div",null,[Object.keys(n(r)).length>0?(P(),Y(fl,{key:0,"filter-list":n(r),status:n(s),sub_status:n(i),is_custom:n(m),onSetCustomFilter:d,onSetFilter:f},null,8,["filter-list","status","sub_status","is_custom"])):E("",!0),a(_l,{class:"mt-2",campaign_id:c.campaign_id,status:n(s),sub_status:n(i),is_custom:n(m),custom_filter:n(p)},null,8,["campaign_id","status","sub_status","is_custom","custom_filter"]),a(ml,{"is-nav-drawer-open":n(t),onCloseCustomFilter:g,onApplyCustomFilter:u},null,8,["is-nav-drawer-open"])]))}},bl=C("div",{class:"v-card-title"}," Accumulated Data ",-1),Vl={__name:"AccumulateList",setup(e){const c=h([]),r=h([]),s=h([]),t=oe().params.id,m=()=>{M.post(`/campaign-detail/${t}/lead-progress`).then(y=>{const{status:f,lead_progress:d}=y.data,g=[{key:"name",title:"Name"},{key:"total_leads",title:"Total Leads"},{key:"filtered_total_leads",title:"Filtered Total Leads"}],u=[{key:"",title:"Fresh"}];for(const l of f)l!=""&&u.push({key:l,title:l});s.value=u,c.value=[...g,...u],r.value=d})},p=(y,f,d)=>f==0||y==0?0:d?`${(100*y/f).toFixed(2)}%`:`${y} (${(100*y/f).toFixed(2)}%)`;return W(()=>{m()}),(y,f)=>(P(),D("div",null,[bl,a(n(tt),{headers:n(c),items:n(r),"items-per-page":50},ve({_:2},[K(n(s),d=>({name:`item.${d.key}`,fn:v(({item:g})=>[L(B(p(g.raw[d.key],g.raw.total_leads,g.raw.name=="Average")),1)])}))]),1032,["headers","items"])]))}};const hl=C("div",{class:"v-card-title"},"Filtered Accumulated Data",-1),xl=C("div",{class:"d-flex mb-2 mx-4"},[C("small",null,"Filter: ")],-1),kl={class:"d-flex mx-4 mb-4 align-center"},wl={__name:"DateAccumulateList",setup(e){const c=h([]),r=h([]),s=h([]),t=oe().params.id,m=h(""),p=()=>{const f={};if(m.value!==""){let[d,g]=m.value.split(" to ");(!g||g=="")&&(g=d),f.start_date=d,f.end_date=g}else{const d=new Date().toISOString().substring(0,10);f.start_date=d,f.end_date=d}M.post(`/campaign-detail/${t}/lead-progress`,f).then(d=>{const{status:g,lead_progress:u}=d.data,l=[{key:"name",title:"Name"},{key:"filtered_total_leads",title:"Filtered Total Leads"}],b=[];for(const w of g)b.push({key:w,title:w==""?"Fresh":w.toUpperCase()});s.value=b,c.value=[...l,...b],r.value=u})},y=()=>{p()};return W(()=>{p()}),(f,d)=>{const g=fe;return P(),D("div",null,[hl,xl,C("div",kl,[a(g,{class:"mr-4 date-picker",modelValue:n(m),"onUpdate:modelValue":d[0]||(d[0]=u=>N(m)?m.value=u:null),config:{mode:"range"}},null,8,["modelValue"]),a(R,{onClick:y},{default:v(()=>[L(" Apply ")]),_:1})]),a(n(tt),{headers:n(c),items:n(r),itemsPerPage:50},ve({_:2},[K(n(s),u=>({name:`item.${u.key}`,fn:v(({item:l})=>[L(B(l.raw[u.key]),1)])}))]),1032,["headers","items"])])}}};const Sl={class:"d-flex align-end justify-end"},Cl={key:0},Pl={key:1},Al={key:2},Tl={key:3},$l={key:4},Il={key:5},Ll={key:6},Kl={__name:"[id]",setup(e){const c=[{title:"Auto Assign",value:"auto-assign"},{title:"Manual Assign",value:"manual-assign"}],r=[{title:"Accumulate",value:"accumulate"},{title:"Today",value:"today"}],s=oe(),i=parseInt(s.params.id),t=h("list"),m=h(0),p=f=>{t.value=f},y=()=>{M.get(`/campaign-detail/${i}/total-filtered-count`).then(f=>{const{total:d}=f.data;m.value=d})};return W(()=>{y()}),(f,d)=>{const g=Ba;return P(),D("div",null,[a(Kt,null,{default:v(()=>[a(Jt,null,ve({default:v(()=>[a(Qt,null,{default:v(()=>[L(" Campaign Detail (Today Filtered: "+B(n(m))+") ",1)]),_:1})]),_:2},[n(Re)()?{name:"append",fn:v(()=>[C("div",Sl,[a(Ue,{class:"mr-2","menu-title":"Assign","menu-list":c,onUpdateAction:p}),a(Ue,{class:"mr-2","menu-title":"Lead Progress","menu-list":r,onUpdateAction:p}),a(R,{class:"mr-2",color:"success",rounded:"pill",onClick:d[0]||(d[0]=()=>p("list"))},{default:v(()=>[L(" List ")]),_:1})])]),key:"0"}:void 0]),1024),a(et,null,{default:v(()=>[n(t)=="auto-assign"?(P(),D("div",Cl,[a(Ya,{onUpdateAction:p})])):E("",!0),n(t)=="manual-assign"?(P(),D("div",Pl,[a(Ka,{onUpdateAction:p})])):E("",!0),n(t)=="manual-assign2"?(P(),D("div",Al,[a(g)])):E("",!0),n(t)=="list"?(P(),D("div",Tl,[a(yl,{campaign_id:n(i)},null,8,["campaign_id"])])):E("",!0),n(t)=="accumulate"?(P(),D("div",$l,[a(Vl)])):E("",!0),n(t)=="today"?(P(),D("div",Il,[a(wl)])):E("",!0),n(t)=="blocking"?(P(),D("div",Ll,[a(Oa)])):E("",!0)]),_:1})]),_:1})])}}};export{Kl as default};
